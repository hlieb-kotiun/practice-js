{"version":3,"file":"gallery.js","sources":["../src/js/UnsplashAPI.js","../src/js/renderfunction.js","../src/img/javascript.svg","../src/js/gallery.js"],"sourcesContent":["import axios from 'axios';\n\nexport default class UnsplashAPI {\n  #BASE_URL = 'https://api.unsplash.com/search/photos';\n  #API_KEY = 'gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58';\n  #query = \"\";\n\n  async getPopularPhotos(page) {\n    const params = new URLSearchParams({\n      query: 'popular',\n      page,\n      per_page: 12,\n      orientation: 'portrait',\n      client_id: this.#API_KEY,\n    });\n    const { data } = await axios(`${this.#BASE_URL}?${params}`);\n    return data;\n  }\n\n  async getPhotos(page) {\n    const params = new URLSearchParams({\n      query: this.#query,\n      page,\n      per_page: 12,\n      orientation: 'portrait',\n      client_id: this.#API_KEY,\n    });\n    const { data } = await axios(`${this.#BASE_URL}?${params}`);\n    return data;\n  } \n\n  set query(newQuery) {\nthis.#query = newQuery;\n  }\n}\n","const renderImages = (images) => {\n    return images\n    .map(\n        image => `\n        <li class=\"gallery__item\">\n        <img class=\"gallery-img\" src=\"${image.urls.small}\" alt=\"${image.alt_description}\">\n        </li>\n        `\n    ).join(\"\")\n}\n\nexport default renderImages;","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='32'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20256'%3e%3cpath%20fill='%23F7DF1E'%20d='M0%200h256v256H0V0Z'%3e%3c/path%3e%3cpath%20d='m67.312%20213.932l19.59-11.856c3.78%206.701%207.218%2012.371%2015.465%2012.371c7.905%200%2012.89-3.092%2012.89-15.12v-81.798h24.057v82.138c0%2024.917-14.606%2036.259-35.916%2036.259c-19.245%200-30.416-9.967-36.087-21.996m85.07-2.576l19.588-11.341c5.157%208.421%2011.859%2014.607%2023.715%2014.607c9.969%200%2016.325-4.984%2016.325-11.858c0-8.248-6.53-11.17-17.528-15.98l-6.013-2.58c-17.357-7.387-28.87-16.667-28.87-36.257c0-18.044%2013.747-31.792%2035.228-31.792c15.294%200%2026.292%205.328%2034.196%2019.247l-18.732%2012.03c-4.125-7.389-8.591-10.31-15.465-10.31c-7.046%200-11.514%204.468-11.514%2010.31c0%207.217%204.468%2010.14%2014.778%2014.608l6.014%202.577c20.45%208.765%2031.963%2017.7%2031.963%2037.804c0%2021.654-17.012%2033.51-39.867%2033.51c-22.339%200-36.774-10.654-43.819-24.574'%3e%3c/path%3e%3c/svg%3e\"","import iziToast from 'izitoast';\nimport UnsplashAPI from './UnsplashAPI';\nimport renderImages from './renderfunction';\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.min.css';\nimport error from \"../img/javascript.svg\";\nimport \"izitoast/dist/css/iziToast.min.css\"; \n\nconst gallery = document.querySelector('.gallery');\nconst api = new UnsplashAPI();\nconst container = document.getElementById('tui-pagination-container');\nconst pagination = new Pagination(container, {\n  totalItems: 0,\n  itemsPerPage: 12,\n  visiblePages: 5,\n  page: 1,\n});\n\nconst page = pagination.getCurrentPage();\n\napi.getPopularPhotos(page).then(data => {\n  console.log(data);\n  gallery.innerHTML = renderImages(data.results);\n  pagination.reset(data.total);\n});\n\npagination.on('afterMove', handlePagination);\n\nfunction handlePagination(event) {\n      const currentPage = event.page;\n    api\n      .getPopularPhotos(currentPage)\n      .then(data => (gallery.innerHTML = renderImages(data.results)));\n  }\n\n  function handleSubmitPagination(event) {\n    const currentPage = event.page;\n    api\n      .getPhotos(currentPage)\n      .then(data => (gallery.innerHTML = renderImages(data.results)));\n   \n  }\n\nconst form = document.querySelector(\".search-form\");\nform.addEventListener(\"submit\", handleSubmit);\nfunction handleSubmit(event) {\n\n  event.preventDefault();\n  const inputValue = form.elements.query.value.trim();\n  if (inputValue === \"\") {\n    iziToast.warning({\n      iconUrl: error,\n      title: 'Caution',\n      message: 'The field is empty, please type your request',\n  })\nreturn;  \n}\n\npagination.off('afterMove', handlePagination);\npagination.off('afterMove', handleSubmitPagination);\n\napi\n.query = inputValue;\napi.getPhotos(page)\n.then(data => {\n  gallery.innerHTML = renderImages(data.results);\n  pagination.reset(data.total);\n})\n\npagination.on('afterMove', handleSubmitPagination);\n\n}"],"names":["UnsplashAPI","__privateAdd","_BASE_URL","_API_KEY","_query","page","params","__privateGet","data","axios","newQuery","__privateSet","renderImages","images","image","error","gallery","api","container","pagination","Pagination","handlePagination","event","currentPage","handleSubmitPagination","form","handleSubmit","inputValue","iziToast"],"mappings":"ucAEe,MAAMA,CAAY,CAAlB,cACbC,EAAA,KAAAC,EAAY,0CACZD,EAAA,KAAAE,EAAW,+CACXF,EAAA,KAAAG,EAAS,IAET,MAAM,iBAAiBC,EAAM,CAC3B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,MAAO,UACP,KAAAD,EACA,SAAU,GACV,YAAa,WACb,UAAWE,EAAA,KAAKJ,EACtB,CAAK,EACK,CAAE,KAAAK,CAAI,EAAK,MAAMC,EAAM,GAAGF,EAAA,KAAKL,EAAS,IAAII,CAAM,EAAE,EAC1D,OAAOE,CACR,CAED,MAAM,UAAUH,EAAM,CACpB,MAAMC,EAAS,IAAI,gBAAgB,CACjC,MAAOC,EAAA,KAAKH,GACZ,KAAAC,EACA,SAAU,GACV,YAAa,WACb,UAAWE,EAAA,KAAKJ,EACtB,CAAK,EACK,CAAE,KAAAK,CAAI,EAAK,MAAMC,EAAM,GAAGF,EAAA,KAAKL,EAAS,IAAII,CAAM,EAAE,EAC1D,OAAOE,CACR,CAED,IAAI,MAAME,EAAU,CACtBC,EAAA,KAAKP,EAASM,EACX,CACH,CA/BER,EAAA,YACAC,EAAA,YACAC,EAAA,YCLF,MAAMQ,EAAgBC,GACXA,EACN,IACGC,GAAS;AAAA;AAAA,wCAEuBA,EAAM,KAAK,KAAK,UAAUA,EAAM,eAAe;AAAA;AAAA,SAGvF,EAAM,KAAK,EAAE,ECREC,EAAA,qpCCQTC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAM,IAAIjB,EACVkB,EAAY,SAAS,eAAe,0BAA0B,EAC9DC,EAAa,IAAIC,EAAWF,EAAW,CAC3C,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,CACR,CAAC,EAEKb,EAAOc,EAAW,iBAExBF,EAAI,iBAAiBZ,CAAI,EAAE,KAAKG,GAAQ,CACtC,QAAQ,IAAIA,CAAI,EAChBQ,EAAQ,UAAYJ,EAAaJ,EAAK,OAAO,EAC7CW,EAAW,MAAMX,EAAK,KAAK,CAC7B,CAAC,EAEDW,EAAW,GAAG,YAAaE,CAAgB,EAE3C,SAASA,EAAiBC,EAAO,CAC3B,MAAMC,EAAcD,EAAM,KAC5BL,EACG,iBAAiBM,CAAW,EAC5B,KAAKf,GAASQ,EAAQ,UAAYJ,EAAaJ,EAAK,OAAO,CAAE,CACjE,CAED,SAASgB,EAAuBF,EAAO,CACrC,MAAMC,EAAcD,EAAM,KAC1BL,EACG,UAAUM,CAAW,EACrB,KAAKf,GAASQ,EAAQ,UAAYJ,EAAaJ,EAAK,OAAO,CAAE,CAEjE,CAEH,MAAMiB,EAAO,SAAS,cAAc,cAAc,EAClDA,EAAK,iBAAiB,SAAUC,CAAY,EAC5C,SAASA,EAAaJ,EAAO,CAE3BA,EAAM,eAAc,EACpB,MAAMK,EAAaF,EAAK,SAAS,MAAM,MAAM,OAC7C,GAAIE,IAAe,GAAI,CACrBC,EAAS,QAAQ,CACf,QAASb,EACT,MAAO,UACP,QAAS,8CACf,CAAG,EACH,MACA,CAEAI,EAAW,IAAI,YAAaE,CAAgB,EAC5CF,EAAW,IAAI,YAAaK,CAAsB,EAElDP,EACC,MAAQU,EACTV,EAAI,UAAUZ,CAAI,EACjB,KAAKG,GAAQ,CACZQ,EAAQ,UAAYJ,EAAaJ,EAAK,OAAO,EAC7CW,EAAW,MAAMX,EAAK,KAAK,CAC7B,CAAC,EAEDW,EAAW,GAAG,YAAaK,CAAsB,CAEjD"}