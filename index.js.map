{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// TASK 1\n\n// Якщо імейл і пароль користувача збігаються, зберігайте дані з форми при сабміті\n// у локальне сховище і змінюй кнопку login на logout і роби поля введення\n// Недоступними для змін.\n\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n// повідомляти про помилку.\n\nconst USER_DATA = {\n  email: 'user@mail.com',\n  password: 'secret',\n};\n\nconst LS_KEY = 'user-data';\n\nconst form = document.querySelector('.login-form');\nconst email = document.querySelector('[name=\"email\"]');\nconst password = document.querySelector('[name=\"password\"]');\nconst button = document.querySelector('.login-form button');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const emailValue = email.value.trim();\n  const passwordValue = password.value.trim();\n\n  if (button.textContent === 'Logout') {\n    form.reset();\n    localStorage.removeItem(LS_KEY);\n    button.textContent = 'Login';\n    email.removeAttribute('readonly');\n    password.removeAttribute('readonly');\n    return;\n  }\n\n  if (emailValue === '' || passwordValue === '') {\n    return alert('Fill all fields!');\n  }\n\n  if (emailValue === USER_DATA.email && passwordValue === USER_DATA.password) {\n    localStorage.setItem(\n      LS_KEY,\n      JSON.stringify({ email: emailValue, password: passwordValue })\n    );\n\n    button.textContent = 'Logout';\n    email.setAttribute('readonly', true);\n    password.setAttribute('readonly', true);\n  } else {\n    alert('Wrong data!');\n  }\n}\n\nif (localStorage.getItem(LS_KEY)) {\n  const loginData = JSON.parse(localStorage.getItem(LS_KEY));\n  email.value = loginData.email || '';\n  password.value = loginData.password || '';\n  button.textContent = 'Logout';\n  email.setAttribute('readonly', true);\n  password.setAttribute('readonly', true);\n}\n"],"names":["USER_DATA","LS_KEY","form","email","password","button","handleSubmit","event","emailValue","passwordValue","loginData"],"mappings":"ssBAcA,MAAMA,EAAY,CAChB,MAAO,gBACP,SAAU,QACZ,EAEMC,EAAS,YAETC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,gBAAgB,EAC/CC,EAAW,SAAS,cAAc,mBAAmB,EACrDC,EAAS,SAAS,cAAc,oBAAoB,EAE1DH,EAAK,iBAAiB,SAAUI,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAaL,EAAM,MAAM,KAAI,EAC7BM,EAAgBL,EAAS,MAAM,KAAI,EAEzC,GAAIC,EAAO,cAAgB,SAAU,CACnCH,EAAK,MAAK,EACV,aAAa,WAAWD,CAAM,EAC9BI,EAAO,YAAc,QACrBF,EAAM,gBAAgB,UAAU,EAChCC,EAAS,gBAAgB,UAAU,EACnC,MACD,CAED,GAAII,IAAe,IAAMC,IAAkB,GACzC,OAAO,MAAM,kBAAkB,EAG7BD,IAAeR,EAAU,OAASS,IAAkBT,EAAU,UAChE,aAAa,QACXC,EACA,KAAK,UAAU,CAAE,MAAOO,EAAY,SAAUC,EAAe,CACnE,EAEIJ,EAAO,YAAc,SACrBF,EAAM,aAAa,WAAY,EAAI,EACnCC,EAAS,aAAa,WAAY,EAAI,GAEtC,MAAM,aAAa,CAEvB,CAEA,GAAI,aAAa,QAAQH,CAAM,EAAG,CAChC,MAAMS,EAAY,KAAK,MAAM,aAAa,QAAQT,CAAM,CAAC,EACzDE,EAAM,MAAQO,EAAU,OAAS,GACjCN,EAAS,MAAQM,EAAU,UAAY,GACvCL,EAAO,YAAc,SACrBF,EAAM,aAAa,WAAY,EAAI,EACnCC,EAAS,aAAa,WAAY,EAAI,CACxC"}